---
interface Props {
  level: number;
  title: string;
  maxLevel?: number;
  duration?: string;
  children?: string;
}

const { level, title, maxLevel = 6, duration, children } = Astro.props;
---

<div class="my-8 p-6 rounded-lg border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 shadow-sm hover:shadow-md transition-shadow">
  <!-- Header with Level Badge -->
  <div class="flex items-start justify-between gap-4 mb-4">
    <div class="flex-1">
      <h3 class="text-2xl font-bold text-gray-900 dark:text-white">
        {title}
      </h3>
      <div class="mt-2 flex items-center gap-3">
        <!-- Level Badge -->
        <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-blue-500 dark:bg-blue-600 text-white font-bold text-sm">
          {level}
        </span>
        <span class="text-sm text-gray-600 dark:text-gray-400">
          Level {level}/{maxLevel}
        </span>
        {duration && (
          <span class="text-sm text-gray-600 dark:text-gray-400">
            â€¢ {duration}
          </span>
        )}
      </div>
    </div>

    <!-- Completion Ring -->
    <div class="flex-shrink-0">
      <div class="relative w-12 h-12">
        <svg class="w-full h-full" viewBox="0 0 50 50">
          <circle
            cx="25"
            cy="25"
            r="22"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            class="text-gray-200 dark:text-slate-700"
          />
          <circle
            cx="25"
            cy="25"
            r="22"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-dasharray="138.16"
            stroke-dashoffset="138.16"
            stroke-linecap="round"
            class="text-blue-500 transition-all duration-300"
            id={`progress-ring-${level}`}
          />
        </svg>
        <span class="absolute inset-0 flex items-center justify-center text-xs font-bold text-gray-700 dark:text-gray-300">
          0%
        </span>
      </div>
    </div>
  </div>

  <!-- Content -->
  {children && (
    <div class="mt-4 prose dark:prose-invert max-w-none text-sm">
      <slot />
    </div>
  )}
</div>
